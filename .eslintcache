[{"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\index.js":"1","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\reportWebVitals.js":"2","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\App.js":"3","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Contexts\\UserContext.js":"4","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Hooks\\useStorage.js":"5","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Home.js":"6","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Modal.js":"7","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Hooks\\useModal.js":"8","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\SideNav.js":"9","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\CompletePages.js":"10","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Create.js":"11","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Layout\\WebLayout.js":"12","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Overview.js":"13","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Stocks.js":"14","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Store.js":"15","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\truncate.js":"16","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Settings.js":"17","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\ModalLayout.js":"18","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\CreateTransaction.js":"19","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\StockDisplay.js":"20","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\FavouriteButton.js":"21","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\ProductDisplay.js":"22","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\productStatus.js":"23","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\TransactionDisplay.js":"24","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Loading.js":"25","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\TransactionTable.js":"26","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\capitalize.js":"27","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\isToday.js":"28","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\PriceBar.js":"29","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\favSort.js":"30","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Records.js":"31"},{"size":500,"mtime":499162500000,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":499162500000,"results":"34","hashOfConfig":"33"},{"size":1121,"mtime":1619141868808,"results":"35","hashOfConfig":"33"},{"size":3244,"mtime":1619926249508,"results":"36","hashOfConfig":"33"},{"size":606,"mtime":1613407961223,"results":"37","hashOfConfig":"33"},{"size":1229,"mtime":1610678739139,"results":"38","hashOfConfig":"39"},{"size":477,"mtime":1610670083739,"results":"40","hashOfConfig":"39"},{"size":370,"mtime":1619143187742,"results":"41","hashOfConfig":"33"},{"size":5461,"mtime":1619926143307,"results":"42","hashOfConfig":"33"},{"size":1105,"mtime":1611240473893,"results":"43","hashOfConfig":"39"},{"size":1400,"mtime":1611242060087,"results":"44","hashOfConfig":"39"},{"size":752,"mtime":1619174555217,"results":"45","hashOfConfig":"33"},{"size":4128,"mtime":1619174696068,"results":"46","hashOfConfig":"33"},{"size":12616,"mtime":1619174716918,"results":"47","hashOfConfig":"33"},{"size":5378,"mtime":1619917378704,"results":"48","hashOfConfig":"33"},{"size":134,"mtime":1612118765220,"results":"49","hashOfConfig":"39"},{"size":6435,"mtime":1619174796329,"results":"50","hashOfConfig":"33"},{"size":630,"mtime":1619146425030,"results":"51","hashOfConfig":"33"},{"size":29153,"mtime":1619174818860,"results":"52","hashOfConfig":"33"},{"size":408,"mtime":1612657289519,"results":"53","hashOfConfig":"39"},{"size":1459,"mtime":1615350551594,"results":"54","hashOfConfig":"33"},{"size":4325,"mtime":1619143649304,"results":"55","hashOfConfig":"33"},{"size":146,"mtime":1613237332215,"results":"56","hashOfConfig":"39"},{"size":7706,"mtime":1619175087910,"results":"57","hashOfConfig":"33"},{"size":355,"mtime":1614084370014,"results":"58","hashOfConfig":"33"},{"size":5639,"mtime":1619175166827,"results":"59","hashOfConfig":"33"},{"size":99,"mtime":1614156885186,"results":"60","hashOfConfig":"33"},{"size":261,"mtime":1614167495508,"results":"61","hashOfConfig":"33"},{"size":1675,"mtime":1619174143473,"results":"62","hashOfConfig":"33"},{"size":756,"mtime":1615354219978,"results":"63","hashOfConfig":"33"},{"size":3986,"mtime":1619917393101,"results":"64","hashOfConfig":"33"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},"145yeeb",{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"79"},"15f6sn4",{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"67"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"67"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"67"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"67"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"67"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"67"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"67"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"67"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"67"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"67"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"67"},"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\index.js",[],["145","146"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\reportWebVitals.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\App.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Contexts\\UserContext.js",["147","148","149"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Hooks\\useStorage.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Home.js",["150","151"],"import React, { useContext, useState } from \"react\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\nimport Modal from \"./Modal\";\r\nimport ModalAdd from \"./ModalAdd\";\r\nimport ModalFrame from \"./ModalFrame\";\r\nimport Record from \"./Record\";\r\nimport AddRecord from \"../Modals/AddRecord/\";\r\n\r\nexport default function Home() {\r\n  const { data, loading, show, handleModal } = useContext(userContext);\r\n\r\n  return (\r\n    <div className=\"relative h-screen overflow-auto\">\r\n      <div className=\"mx-auto max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl \">\r\n        {loading ? (\r\n          <h1>Loading</h1>\r\n        ) : (\r\n          <>\r\n            <h1 className=\"text-3xl pt-9 mb-3\">Welcome</h1>\r\n            <h2 className=\"text-2xl mb-3\">Records</h2>\r\n            <div\r\n              onClick={() => {\r\n                handleModal(AddRecord);\r\n                console.log(\"Modal\");\r\n              }}\r\n            >\r\n              C\r\n            </div>\r\n            <Record />\r\n          </>\r\n        )}\r\n      </div>\r\n      <div id=\"modal-root\">\r\n        <ModalFrame />\r\n      </div>\r\n      {show ? (\r\n        <Modal>\r\n          <ModalAdd />\r\n        </Modal>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",["152","153"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Modal.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Hooks\\useModal.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\SideNav.js",["154","155"],"import React from \"react\";\r\nimport {\r\n  AiOutlineBarChart,\r\n  AiOutlineProfile,\r\n  AiOutlineSetting,\r\n  AiOutlineShop,\r\n  AiOutlineShopping,\r\n  AiOutlineTool,\r\n} from \"react-icons/ai\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nexport default function SideNav() {\r\n  return (\r\n    <div className=\"fixed h-20 min-h-0 w-full lg:w-60 bottom-0 lg:h-auto lg:max-h-full  flex flex-row lg:flex-col lg:min-h-full bg-white z-10 shadow-lg\">\r\n      <div className=\"hidden lg:block text-2xl border-b font-bold text-green-500 p-8\">\r\n        Stockie\r\n      </div>\r\n      <div className=\"lg:border-b lg:p-8 flex-grow\">\r\n        <ul\r\n          className=\"flex flex-row justify-between h-full lg:h-auto lg:block\"\r\n          id=\"navlinks\"\r\n        >\r\n          <li className=\"lg:py-1 flex-grow w-1/5 lg:w-auto\">\r\n            <NavLink\r\n              replace\r\n              exact\r\n              to=\"/\"\r\n              className=\"flex h-full flex-grow  items-center justify-center lg:items-start lg:justify-start px-3 mx-1 py-0.5 font-medium text-gray-500\"\r\n              activeClassName=\"text-green-500 pt-0 lg:pt-0.5 border-t-2 mx-0 lg:border-t-0 lg:border-l-4 border-green-500 lg:text-black\"\r\n            >\r\n              <div className=\"flex flex-col space-y-1 lg:space-y-0 items-center\">\r\n                <div className=\"lg:hidden\">\r\n                  <AiOutlineBarChart size=\"20px\" />\r\n                </div>\r\n                <div className=\"text-xs lg:text-base\">Overview</div>\r\n              </div>\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li className=\"lg:py-1 flex-grow w-1/5 lg:w-auto\">\r\n            <NavLink\r\n              replace\r\n              to=\"/stocks\"\r\n              className=\"flex h-full flex-grow  items-center justify-center lg:items-start lg:justify-start px-3 mx-1 py-0.5 font-medium text-gray-500\"\r\n              activeClassName=\"text-green-500 pt-0 lg:pt-0.5 border-t-2 mx-0 lg:border-t-0 lg:border-l-4 border-green-500 lg:text-black\"\r\n            >\r\n              <div className=\"flex flex-col space-y-1 lg:space-y-0 items-center\">\r\n                <div className=\"lg:hidden\">\r\n                  <AiOutlineShopping size=\"20px\" />\r\n                </div>\r\n                <div className=\"text-xs lg:text-base\">Stocks</div>\r\n              </div>\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"lg:py-1 flex-grow w-1/5 lg:w-auto\">\r\n            <NavLink\r\n              replace\r\n              to=\"/records\"\r\n              className=\"flex h-full flex-grow  items-center justify-center lg:items-start lg:justify-start px-3 mx-1 py-0.5 font-medium text-gray-500\"\r\n              activeClassName=\"text-green-500 pt-0 lg:pt-0.5 border-t-2 mx-0 lg:border-t-0 lg:border-l-4 border-green-500 lg:text-black\"\r\n            >\r\n              <div className=\"flex flex-col space-y-1 lg:space-y-0 items-center\">\r\n                <div className=\"lg:hidden\">\r\n                  <AiOutlineProfile size=\"20px\" />\r\n                </div>\r\n                <div className=\"text-xs lg:text-base\">Records</div>\r\n              </div>\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"lg:py-1 flex-grow w-1/5 lg:w-auto\">\r\n            <NavLink\r\n              replace\r\n              to=\"/store\"\r\n              className=\"flex h-full flex-grow  items-center justify-center lg:items-start lg:justify-start px-3 mx-1 py-0.5 font-medium text-gray-500\"\r\n              activeClassName=\"text-green-500 pt-0 lg:pt-0.5 border-t-2 mx-0 lg:border-t-0 lg:border-l-4 border-green-500 lg:text-black\"\r\n            >\r\n              <div className=\"flex flex-col space-y-1 lg:space-y-0 items-center\">\r\n                <div className=\"lg:hidden\">\r\n                  <AiOutlineShop size=\"20px\" />\r\n                </div>\r\n                <div className=\"text-xs lg:text-base\">Store</div>\r\n              </div>\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"lg:py-1 flex-grow w-1/5 lg:w-auto\">\r\n            <NavLink\r\n              replace\r\n              to=\"/settings\"\r\n              className=\"flex h-full flex-grow  items-center justify-center lg:items-start lg:justify-start px-3 mx-1 py-0.5 font-medium text-gray-500\"\r\n              activeClassName=\"text-green-500 pt-0 lg:pt-0.5 border-t-2 mx-0 lg:border-t-0 lg:border-l-4 border-green-500 lg:text-black\"\r\n            >\r\n              <div className=\"flex flex-col space-y-1 lg:space-y-0 items-center\">\r\n                <div className=\"lg:hidden\">\r\n                  <AiOutlineTool size=\"20px\" />\r\n                </div>\r\n                <div className=\"text-xs lg:text-base\">Settings</div>\r\n              </div>\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"hidden lg:block text-sm text-gray-500 font-medium p-8\">\r\n        {/*<ul className=\" mb-2\">\r\n          <li className=\"lg:py-1\">\r\n            <Link replace to=\"/feedback\" className=\"flex  py-1.5 mx-1\">\r\n              Feedback\r\n            </Link>\r\n          </li>\r\n          <li className=\"lg:py-1\">\r\n            <Link replace to=\"/support\" className=\"flex  py-1.5 mx-1\">\r\n              Support\r\n            </Link>\r\n          </li>\r\n        </ul>*/}\r\n        <footer className=\"py-4 mx-1\">\r\n          <div className=\"whitespace-nowrap font-normal\">\r\n            &copy; 2021 Jeng Khaw\r\n          </div>\r\n          <div className=\"whitespace-nowrap font-normal\">\r\n            All rights reserved.\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\CompletePages.js",[],["156","157"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Create.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Layout\\WebLayout.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Overview.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Stocks.js",["158","159","160","161","162"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  AiOutlineAppstore,\r\n  AiOutlineBars,\r\n  AiOutlineDollar,\r\n  AiOutlineFileUnknown,\r\n  AiOutlineSafety,\r\n  AiOutlineShopping,\r\n  AiOutlineTag,\r\n} from \"react-icons/ai\";\r\nimport { BiCube } from \"react-icons/bi\";\r\nimport FavouriteButton from \"../Components/FavouriteButton\";\r\nimport Loading from \"../Components/Loading\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\nimport { favSort } from \"../helper/favSort\";\r\nimport CreateTransaction from \"../Modal/CreateTransaction\";\r\nimport ProductDisplay from \"../Modal/ProductDisplay\";\r\n\r\nexport default function Stocks() {\r\n  const { setModal, stocks, favouriteProducts, transactions } = useContext(\r\n    userContext\r\n  );\r\n\r\n  const [view, setView] = useState(() => \"GRID\");\r\n  const [contentLoading, setContentLoading] = useState(true);\r\n  const [stockSearch, setStockSearch] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n\r\n  const stockSummary = stocks.reduce(\r\n    (a, b) => {\r\n      a.count += b.count;\r\n      a.uv += b.dn.uv * b.count;\r\n      a.pv += b.dn.pv * b.count;\r\n      return a;\r\n    },\r\n    { count: 0, uv: 0, pv: 0 }\r\n  );\r\n\r\n  useEffect(() => {\r\n    setContentLoading(true);\r\n    const q = [...stocks].sort((a, b) => {\r\n      if (\r\n        favouriteProducts.includes(a.product_no) &&\r\n        favouriteProducts.includes(b.product_no)\r\n      ) {\r\n        return 0;\r\n      } else {\r\n        if (favouriteProducts.includes(a.product_no)) {\r\n          return -1;\r\n        }\r\n        return 1;\r\n      }\r\n    });\r\n    setResult(q);\r\n    setContentLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setResult(favSort(stocks, favouriteProducts));\r\n  }, [stocks.length]);\r\n\r\n  // To sort\r\n  useEffect(() => {\r\n    setContentLoading(true);\r\n    if (stockSearch.length > 0) {\r\n      setResult((r) =>\r\n        favSort(\r\n          r\r\n            .filter(\r\n              (s) =>\r\n                s.name.toLowerCase().indexOf(stockSearch.toLowerCase()) > -1 ||\r\n                s.product_no.toLowerCase().indexOf(stockSearch.toLowerCase()) >\r\n                  -1 ||\r\n                s.tags.join().toLowerCase().indexOf(stockSearch.toLowerCase()) >\r\n                  -1\r\n            )\r\n            .sort((a, b) =>\r\n              favouriteProducts && favouriteProducts.includes(a.product_no)\r\n                ? -1\r\n                : 1\r\n            ),\r\n          favouriteProducts\r\n        )\r\n      );\r\n    } else {\r\n      setResult(favSort(stocks, favouriteProducts));\r\n    }\r\n    //setResult((r) => favSort(r, favouriteProducts));\r\n    setContentLoading(false);\r\n  }, [view]);\r\n\r\n  // To filter\r\n  useEffect(() => {\r\n    setContentLoading(true);\r\n    if (stockSearch.length > 0) {\r\n      setResult((r) =>\r\n        favSort(\r\n          r.filter(\r\n            (s) =>\r\n              s.name.toLowerCase().indexOf(stockSearch.toLowerCase()) > -1 ||\r\n              s.product_no.toLowerCase().indexOf(stockSearch.toLowerCase()) >\r\n                -1 ||\r\n              s.tags.join().toLowerCase().indexOf(stockSearch.toLowerCase()) >\r\n                -1 ||\r\n              (favouriteProducts.includes(s.product_no) &&\r\n                \"favourite\".indexOf(stockSearch.toLowerCase()) > -1)\r\n          ),\r\n          favouriteProducts\r\n        )\r\n      );\r\n    } else {\r\n      setResult(favSort(stocks, favouriteProducts));\r\n    }\r\n    setContentLoading(false);\r\n  }, [stockSearch]);\r\n\r\n  //useEffect(() => {\r\n  //  setContentLoading(true);\r\n  //  if (stockState.userInput.length > 0) {\r\n  //    setResult(favSort(stockState.filteredSuggestions, favouriteProducts));\r\n  //  } else {\r\n  //    setResult(favSort(stocks, favouriteProducts));\r\n  //  }\r\n  //  setContentLoading(false);\r\n  //}, [stockState.userInput, view, stocks]);\r\n\r\n  const GridDisplay = ({ result }) => {\r\n    return (\r\n      <div className=\"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mb-6\">\r\n        {result.map((s) => (\r\n          <div\r\n            className=\"relative flex flex-col rounded shadow-md bg-white text-left hover:cursor-pointer\"\r\n            onClick={() =>\r\n              setModal(<ProductDisplay prod_no={s.product_no}></ProductDisplay>)\r\n            }\r\n            key={s.product_no}\r\n          >\r\n            <div className=\"relative h-52 w-full  rounded-t\">\r\n              <div\r\n                className=\"w-full h-full bg-center bg-no-repeat bg-contain\"\r\n                style={{ backgroundImage: `url(${s.images[0]})` }}\r\n              ></div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-start flex-grow p-2 bg-white rounded-b\">\r\n              <div className=\"flex flex-row items-center space-x-3 py-2 w-full\">\r\n                <AiOutlineTag className=\"ml-2 text-lg text-gray-600\" />\r\n                <div className=\"font-light text-gray-600 truncate w-28 sm:w-52 md:w-36\">\r\n                  {s.name}\r\n                </div>\r\n              </div>\r\n              <div className=\"flex flex-row items-center space-x-3 py-2\">\r\n                <BiCube className=\"ml-2 text-lg text-gray-600\" />\r\n                <div className=\"text-gray-600 font-light truncate w-28 sm:w-52 md:w-36\">{`x${s.count}`}</div>\r\n              </div>\r\n              <div className=\"flex flex-row items-center space-x-3 py-2\">\r\n                <AiOutlineDollar className=\"ml-2 text-lg text-gray-600\" />\r\n                <div className=\"text-gray-600 font-light truncate w-28 sm:w-52 md:w-36\">{`RM ${\r\n                  s.dn.price * s.count\r\n                }`}</div>\r\n              </div>\r\n            </div>\r\n            <FavouriteButton\r\n              parentClassName=\"absolute right-0 p-2\"\r\n              prod_no={s.product_no}\r\n              size=\"20px\"\r\n              isFav={\r\n                favouriteProducts && favouriteProducts.includes(s.product_no)\r\n              }\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ListDisplay = ({ result }) => (\r\n    <div className=\"flex flex-col space-y-4 mb-6\">\r\n      {result.map((s) => (\r\n        <div\r\n          className=\"flex flex-row items-center space-x-4 rounded shadow-md bg-white overflow-x-hidden text-left hover:cursor-pointer\"\r\n          onClick={() =>\r\n            setModal(<ProductDisplay prod_no={s.product_no}></ProductDisplay>)\r\n          }\r\n          key={s.product_no}\r\n        >\r\n          <img\r\n            className=\"h-16 w-16 rounded-l p-2\"\r\n            src={s.images[0]}\r\n            alt={s.name}\r\n          />\r\n          <div className=\"flex flex-row items-start flex-grow space-x-2 bg-white\">\r\n            <div className=\"flex flex-row w-2/3 sm:w-1/2 md:w-1/3 sm:pl-12 md:pl-8 items-center space-x-1 sm: py-2\">\r\n              <AiOutlineTag className=\"mr-2 text-lg text-gray-600\" />\r\n              <div className=\"  font-light text-gray-600 truncate w-28 xl:w-40 2xl:w-60\">\r\n                {s.name}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-row w-1/3 sm:w-1/2 md:w-1/3 sm:pl-12 md:pl-8 items-center space-x-3 py-2\">\r\n              <BiCube className=\"mr-2 text-lg text-gray-600\" />\r\n              <div className=\"text-gray-600 font-light truncate w-8 sm:w-20 xl:w-40 2xl:w-60\">{`x${s.count}`}</div>\r\n            </div>\r\n            <div className=\"hidden md:flex flex-row w-1/3 sm:pl-12 md:pl-8 items-center space-x-3 py-2\">\r\n              <AiOutlineDollar className=\"mr-2 text-lg text-gray-600\" />\r\n              <div className=\"text-gray-600 font-light truncate w-8 sm:w-20 xl:w-40 2xl:w-60\">{`RM ${\r\n                s.dn.price * s.count\r\n              }`}</div>\r\n            </div>\r\n          </div>\r\n          <FavouriteButton\r\n            parentClassName=\"flex items-center justify-center p-2 pr-4\"\r\n            prod_no={s.product_no}\r\n            size=\"16px\"\r\n            isFav={\r\n              favouriteProducts && favouriteProducts.includes(s.product_no)\r\n            }\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"h-1/2\">\r\n      <div className=\"text-3xl my-6 text-gray-600\">Stocks</div>\r\n      {stocks.length === 0 ? (\r\n        <div className=\"flex flex-col h-full justify-center items-center my-8 \">\r\n          <div className=\"text-xl font-semibold\">No Stock Found</div>\r\n          <AiOutlineFileUnknown className=\"text-4xl my-4\" />\r\n          <div>Refill your stock by adding records!</div>\r\n          <button\r\n            className=\"flex items-center rounded bg-green-500 text-white px-3 py-2 mt-4 shiny-button\"\r\n            onClick={() => {\r\n              setModal(<CreateTransaction></CreateTransaction>);\r\n            }}\r\n          >\r\n            <div>Add Record</div>\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"flex flex-col sm:flex-row sm:justify-around rounded shadow-md bg-white p-8 space-y-6 sm:space-y-0 \">\r\n            <div className=\"flex flex-row items-center w-full sm:w-1/3 space-x-4 md:space-x-6 lg:space-x-8  md:pl-4 lg:pl-6  2xl:pl-28\">\r\n              <div className=\"w-12 h-12 flex items-center justify-center rounded-full\">\r\n                <AiOutlineShopping size=\"28px\" />\r\n              </div>\r\n              <div className=\"flex flex-col\">\r\n                <div className=\"text-sm text-gray-400 font-medium\">\r\n                  Total Stocks\r\n                </div>\r\n                <div className=\"text-xl  text-gray-600 font-semibold\">\r\n                  {stockSummary.count}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-row items-center  w-full sm:w-1/3 space-x-4 md:space-x-6 lg:space-x-8  md:pl-4 lg:pl-6  2xl:pl-28\">\r\n              <div className=\"w-12 h-12 flex items-center justify-center rounded-full\">\r\n                <AiOutlineSafety size=\"28px\" />\r\n              </div>\r\n              <div className=\"flex flex-col\">\r\n                <div className=\"text-sm text-gray-400 font-medium\">\r\n                  Total UV\r\n                </div>\r\n                <div className=\"text-xl  text-gray-600 font-semibold\">\r\n                  {stockSummary.uv}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-row items-center  w-full sm:w-1/3 space-x-4 md:space-x-6 lg:space-x-8  md:pl-4 lg:pl-6  2xl:pl-28\">\r\n              <div className=\"w-12 h-12 flex items-center justify-center rounded-full\">\r\n                <AiOutlineSafety size=\"28px\" />\r\n              </div>\r\n              <div className=\"flex flex-col\">\r\n                <div className=\"text-sm text-gray-400 font-medium\">\r\n                  Total PV\r\n                </div>\r\n                <div className=\"text-xl text-gray-600 font-semibold\">\r\n                  {stockSummary.pv}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-row justify-between items-center my-6 space-x-6\">\r\n            <div className=\"flex-grow\">\r\n              <input\r\n                className=\"bg-gray-50 w-full border-b h-10 px-2 rounded-none\"\r\n                type=\"text\"\r\n                name=\"stock\"\r\n                autoComplete=\"off\"\r\n                placeholder=\"Search E.g. Favourite/Oos/Available...\"\r\n                value={stockSearch}\r\n                onChange={(e) => setStockSearch(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-row\">\r\n              <button\r\n                className={`outline-none rounded-l-full text-white py-1 px-3 ${\r\n                  view === \"LIST\" ? \"bg-blue-400  shadow-lg\" : \"bg-gray-300\"\r\n                }`}\r\n                onClick={() => {\r\n                  setContentLoading(true);\r\n                  setView(\"LIST\");\r\n                  setContentLoading(false);\r\n                }}\r\n              >\r\n                <AiOutlineBars className=\"text-xl\" />\r\n              </button>\r\n              <button\r\n                className={`outline-none rounded-r-full text-white py-1 px-3 ${\r\n                  view === \"GRID\" ? \"bg-blue-400 shadow-lg\" : \"bg-gray-300\"\r\n                }`}\r\n                onClick={() => {\r\n                  setContentLoading(true);\r\n                  setView(\"GRID\");\r\n                  setContentLoading(false);\r\n                }}\r\n              >\r\n                <AiOutlineAppstore className=\"text-xl\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {contentLoading ? (\r\n            <Loading parentClassName=\"mt-16\" />\r\n          ) : view === \"GRID\" ? (\r\n            <GridDisplay result={result} />\r\n          ) : (\r\n            <ListDisplay result={result} />\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Store.js",["163","164"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport FavouriteButton from \"../Components/FavouriteButton\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\nimport { useSuggestionInput } from \"react-hooks-web\";\r\nimport {\r\n  AiOutlineDollarCircle,\r\n  AiOutlineSafety,\r\n  AiOutlineTag,\r\n} from \"react-icons/ai\";\r\nimport ProductDisplay from \"../Modal/ProductDisplay\";\r\nimport Loading from \"../Components/Loading\";\r\n\r\nexport default function Store() {\r\n  const { storeProducts, setModal, favouriteProducts, loading } = useContext(\r\n    userContext\r\n  );\r\n\r\n  const [contentLoading, setContentLoading] = useState(true);\r\n  console.log(storeProducts);\r\n  const { state: storeState, onChange: storeOnChange } = useSuggestionInput({\r\n    suggestions: storeProducts.map((s) => ({\r\n      ...s,\r\n      suggestionName: s.name.toLowerCase(),\r\n      tagString: s.tags.join(\" \").toLowerCase(),\r\n    })),\r\n    keys: [\"name\", \"tagString\", \"status\"],\r\n  });\r\n\r\n  const [result, setResult] = useState(() => storeProducts);\r\n\r\n  useEffect(() => {\r\n    setResult(\r\n      storeProducts.sort((a, b) =>\r\n        favouriteProducts && favouriteProducts.includes(a.product_no) ? -1 : 1\r\n      )\r\n    );\r\n    setContentLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setContentLoading(true);\r\n    if (storeState.userInput.length > 0) {\r\n      setResult(\r\n        storeState.filteredSuggestions.sort((a, b) =>\r\n          favouriteProducts && favouriteProducts.includes(a.product_no) ? -1 : 1\r\n        )\r\n      );\r\n    } else {\r\n      setResult(\r\n        storeProducts.sort((a, b) =>\r\n          favouriteProducts && favouriteProducts.includes(a.product_no) ? -1 : 1\r\n        )\r\n      );\r\n    }\r\n    setContentLoading(false);\r\n  }, [storeState.userInput, loading]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"text-3xl my-6 text-gray-600\">Store</div>\r\n      <div className=\"flex flex-row justify-between items-center my-6 space-x-6\">\r\n        <div className=\"flex-grow\">\r\n          <input\r\n            className=\"bg-gray-50 w-full border-b h-10 px-2 rounded-none\"\r\n            type=\"text\"\r\n            name=\"stock\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search E.g. Vivix/Available/OOS...\"\r\n            value={storeState.userInput}\r\n            onChange={storeOnChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {contentLoading || loading ? (\r\n        <Loading parentClassName=\"mt-24\" />\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mb-6\">\r\n          {result.map((s) => (\r\n            <div\r\n              key={s.product_no}\r\n              className=\"hover:cursor-pointer relative flex flex-col rounded shadow-md bg-white text-left outline-none\"\r\n              onClick={() =>\r\n                setModal(\r\n                  <ProductDisplay prod_no={s.product_no}></ProductDisplay>\r\n                )\r\n              }\r\n            >\r\n              <div className=\"relative h-52 w-full  rounded-t\">\r\n                {/*<img loading=\"lazy\" src={s.images[0]} alt={s.name} />\r\n                 */}\r\n                <div\r\n                  className=\"w-full h-full bg-center bg-no-repeat bg-contain\"\r\n                  style={{ backgroundImage: `url(${s.images[0]})` }}\r\n                ></div>\r\n                {s.status === \"oos\" ? (\r\n                  <div className=\"absolute top-0 flex w-full h-full items-center justify-center rounded-t bg-gray-800 bg-opacity-50 text-xl font-bold text-gray-100\">\r\n                    Out of Stock\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n\r\n              <div className=\"flex flex-col items-start flex-grow px-2\">\r\n                <div className=\"flex flex-row items-center space-x-2 py-2 w-full\">\r\n                  <div className=\"flex flex-row items-center justify-center text-gray-500 h-8 w-8\">\r\n                    <AiOutlineTag />\r\n                  </div>\r\n                  <div className=\"  font-light text-gray-600 truncate w-28 sm:w-52 md:w-36\">\r\n                    {s.name}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-row items-center space-x-2 py-2\">\r\n                  <div className=\"flex flex-row items-center justify-center text-gray-500 h-8 w-8\">\r\n                    <AiOutlineSafety />\r\n                  </div>\r\n                  <div className=\"text-gray-600 font-light truncate w-28 sm:w-52 md:w-36\">\r\n                    {`${s.dn.uv} UV | ${s.dn.pv} PV`}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-row items-center space-x-2 py-2\">\r\n                  <div className=\"flex flex-row items-center justify-center text-gray-500 h-8 w-8 \">\r\n                    <AiOutlineDollarCircle />\r\n                  </div>\r\n                  <div className=\"text-gray-600 font-light truncate w-28 sm:w-52 md:w-36\">{`RM ${s.dn.price.toFixed(\r\n                    2\r\n                  )}`}</div>\r\n                </div>\r\n              </div>\r\n              <FavouriteButton\r\n                parentClassName=\"absolute right-0 p-2\"\r\n                prod_no={s.product_no}\r\n                size=\"20px\"\r\n                isFav={\r\n                  favouriteProducts && favouriteProducts.includes(s.product_no)\r\n                }\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\truncate.js",[],["165","166"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Settings.js",["167","168","169","170","171","172"],"import React, { useContext, useState } from \"react\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nexport default function Settings() {\r\n  const {\r\n    setTransactions,\r\n    setStocks,\r\n    setFavouriteProducts,\r\n    transactions,\r\n    stocks,\r\n    storeProducts,\r\n    favouriteProducts,\r\n  } = useContext(userContext);\r\n  const [themeExpanded, setThemeExpanded] = useState(false);\r\n\r\n  const handleChangeTheme = () => {\r\n    setThemeExpanded(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"text-3xl my-6 text-gray-600\">Settings</div>\r\n      <div className=\"my-6\">\r\n        <div className=\"text-2xl font-semibold text-gray-600\">Reset data</div>\r\n        <p className=\"my-3 \">\r\n          Clear stored inventory data in this device. This cannot be undone.\r\n        </p>\r\n        <button\r\n          className=\"px-3 py-2 text-white bg-indigo-500 rounded\"\r\n          onClick={() => {\r\n            setTransactions([]);\r\n            setStocks([]);\r\n            setFavouriteProducts([]);\r\n          }}\r\n        >\r\n          Clear Data\r\n        </button>\r\n      </div>\r\n\r\n      {/*<div className=\"my-6\">\r\n        <div className=\"text-2xl font-semibold text-gray-600\">\r\n          Log stored data\r\n        </div>\r\n        <p className=\"my-3 \">Log data for testing purpose.</p>\r\n        <div className=\"flex flex-wrap\">\r\n          <button\r\n            className=\"px-3 py-2 text-white bg-indigo-500 rounded my-1 mr-2\"\r\n            onClick={() => {\r\n              console.table(transactions);\r\n            }}\r\n          >\r\n            Transactions\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-2 text-white bg-indigo-500 rounded my-1 mr-2\"\r\n            onClick={() => {\r\n              console.table(storeProducts);\r\n            }}\r\n          >\r\n            Store Products\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-2 text-white bg-indigo-500 rounded my-1 mr-2\"\r\n            onClick={() => {\r\n              console.table(stocks);\r\n            }}\r\n          >\r\n            Stocks\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-2 text-white bg-indigo-500 rounded my-1 mr-2\"\r\n            onClick={() => {\r\n              console.table(favouriteProducts);\r\n            }}\r\n          >\r\n            Favourite Products\r\n          </button>\r\n        </div>\r\n      </div>*/}\r\n      {/*<div className=\"my-6\">\r\n        <div className=\"text-xl font-semibold text-gray-600\">Verification</div>\r\n        <p className=\"my-4 text-gray-600\">\r\n          Verify your SID, so you can directly access name/sid between your\r\n          uplines/downlines. However, this is completely optional.\r\n        </p>\r\n        <div className=\"flex flex-col  sm:flex-row my-2 sm:space-x-6\">\r\n          <div className=\"w-full sm:w-1/2\">\r\n            <label className=\"text-gray-600\">SID</label>\r\n            <input\r\n              className=\"bg-white w-full border h-10 px-2 my-2\"\r\n              type=\"text\"\r\n              name=\"sid\"\r\n              autoComplete=\"off\"\r\n              placeholder=\"SID\"\r\n            />\r\n          </div>\r\n          <div className=\"w-full sm:w-1/2\">\r\n            <label className=\"text-gray-600\">Full Name</label>\r\n            <input\r\n              className=\"bg-white w-full border h-10 px-2 my-2\"\r\n              type=\"text\"\r\n              name=\"fullname\"\r\n              autoComplete=\"off\"\r\n              placeholder=\"John Smith\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <button className=\"rounded px-4 py-1.5 bg-blue-500 text-white\">\r\n          Verify\r\n        </button>\r\n      </div>\r\n      <div className=\"my-6\">\r\n        <div className=\"text-xl font-semibold mb-4 text-gray-600\">Theme</div>\r\n        <p className=\"my-4 text-gray-600\">* TO DO *</p>\r\n        <div className=\"relative flex flex-row \">\r\n          <button\r\n            className=\"flex flex-row items-center border rounded p-1.5 space-x-2 bg-white w-32\"\r\n            onClick={() => {\r\n              setThemeExpanded((p) => !p);\r\n            }}\r\n          >\r\n            <div className=\"h-6 w-6 bg-green-400\"></div>\r\n            <div className=\"flex-grow text-left\">Green</div>\r\n            <div>\r\n              <AiOutlineDown />\r\n            </div>\r\n          </button>\r\n          <button className=\"rounded px-4 py-1.5 bg-blue-500 text-white ml-4\">\r\n            Save\r\n          </button>\r\n\r\n          <div\r\n            className={\r\n              `absolute bordered rounded bg-white top-10 w-32 shadow ` +\r\n              `${!themeExpanded && \"hidden\"}`\r\n            }\r\n          >\r\n            <button\r\n              className=\"flex flex-row items-center  p-1.5 space-x-2 bg-white w-full\"\r\n              onClick={() => handleChangeTheme()}\r\n            >\r\n              <div className=\"h-6 w-6 bg-green-400\"></div>\r\n              <div>Green</div>\r\n            </button>\r\n            <button\r\n              className=\"flex flex-row items-center  p-1.5 space-x-2 bg-white w-full\"\r\n              onClick={() => handleChangeTheme()}\r\n            >\r\n              <div className=\"h-6 w-6 bg-blue-500\"></div>\r\n              <div>Blue</div>\r\n            </button>\r\n            <button\r\n              className=\"flex flex-row items-center  p-1.5 space-x-2 bg-white w-full\"\r\n              onClick={() => handleChangeTheme()}\r\n            >\r\n              <div className=\"h-6 w-6 bg-indigo-500\"></div>\r\n              <div>Indigo</div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"my-6\">\r\n        <div className=\"text-xl font-semibold my-6 text-gray-600\">\r\n          Data Management\r\n        </div>\r\n        <p className=\"my-4 text-gray-600\">* TO DO *</p>\r\n        <p className=\"mt-4 text-gray-600\">\r\n          * This section suppose to be user settings regarding how they want\r\n          their data to be stored *\r\n        </p>\r\n        <ul className=\"mb-4 text-gray-600\">\r\n          <li>- Local storage </li>\r\n          <li>- Remote storage (database) / Sign up required</li>\r\n        </ul>\r\n        <p className=\"mb-4 mt-6 \">\r\n          Clear localStorage data, useful in development phase, will be removed\r\n          in production.\r\n        </p>\r\n        <button\r\n          className=\"p-2 text-white bg-indigo-500 rounded\"\r\n          onClick={() => {\r\n            setTransactions([]);\r\n            setStocks([]);\r\n          }}\r\n        >\r\n          Clear Stored Data\r\n        </button>\r\n      </div>*/}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\ModalLayout.js",["173"],"import React, { useContext, useEffect } from \"react\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nexport default function ModalLayout({ children }) {\r\n  const { setModal } = useContext(userContext);\r\n  const closeOnESC = () => {\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if (e.key === \"Escape\") {\r\n        setModal();\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    closeOnESC();\r\n    return () => closeOnESC();\r\n  }, []);\r\n  return (\r\n    <div className=\"fixed top-0 w-full lg:pl-60 h-screen flex items-center justify-center bg-gray-400 bg-opacity-60 z-20\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\CreateTransaction.js",["174","175"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { v4 } from \"uuid\";\r\nimport { useSuggestionInput } from \"react-hooks-web\";\r\nimport {\r\n  AiFillCheckCircle,\r\n  AiOutlineCheck,\r\n  AiOutlineClose,\r\n} from \"react-icons/ai\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nconst FLOW = [\r\n  { title: \"Select Type\", component: (a) => <TransactionSelection {...a} /> },\r\n  { title: \"Select Products\", component: (a) => <ProductSelection {...a} /> },\r\n  { title: \"Overview\", component: (a) => <TransactionOverview {...a} /> },\r\n  { title: \"Complete\", component: (a) => <TransactionResult {...a} /> },\r\n];\r\n\r\nexport default function CreateTransaction() {\r\n  const {\r\n    stocks,\r\n    setStocks,\r\n    setTransactions,\r\n    storeProducts,\r\n    setModal,\r\n  } = useContext(userContext);\r\n\r\n  const [transactionType, setTransactionType] = useState({\r\n    name: null,\r\n    flow: null,\r\n  });\r\n\r\n  //const [transactionUser, setTransactionUser] = useState(() => ({\r\n  //  name: \"\",\r\n  //  sid: \"\",\r\n  //}));\r\n\r\n  const [transactionProducts, setTransactionProducts] = useState([]);\r\n\r\n  const [transactionStatus, setTransactionStatus] = useState({\r\n    isDn: true,\r\n    completed: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!transactionType.name) {\r\n      setTransactionProducts([]);\r\n      //setTransactionUser({\r\n      //  name: \"\",\r\n      //  sid: \"\",\r\n      //});\r\n    }\r\n  }, [transactionType]);\r\n  //selection -> user detail? -> product selection -> overview -> end\r\n\r\n  //const TransactionUser = (\r\n  //  <div className=\"flex flex-col mt-6\">\r\n  //    <label className=\"mb-2\">Name</label>\r\n  //    <div className=\"w-full relative\">\r\n  //      <input\r\n  //        onKeyPress={(e) =>\r\n  //          (e.charCode >= 65 && e.charCode <= 90) ||\r\n  //          (e.charCode >= 97 && e.charCode <= 122)\r\n  //        }\r\n  //        key=\"name\"\r\n  //        className=\"mb-4 w-full p-2 rounded border-1 bg-gray-100 h-10\"\r\n  //        name=\"name\"\r\n  //        type=\"text\"\r\n  //        autoComplete=\"off\"\r\n  //        onChange={(e) => {\r\n  //          if (\r\n  //            e.target.value.length === 0 ||\r\n  //            /^[a-zA-Z ]+$/.test(e.target.value)\r\n  //          ) {\r\n  //            setTransactionUser((p) => ({ ...p, name: e.target.value }));\r\n  //          }\r\n  //        }}\r\n  //        value={transactionUser.name}\r\n  //      />\r\n  //    </div>\r\n  //    <label className=\"mb-2\">SID</label>\r\n  //    <input\r\n  //      key=\"sid\"\r\n  //      className=\"mb-4 w-full p-2 rounded border-1 bg-gray-100 h-10\"\r\n  //      name=\"sid\"\r\n  //      type=\"number\"\r\n  //      onKeyDown={(e) => {\r\n  //        if (e.key === \"e\") {\r\n  //          e.stopPropagation();\r\n  //          return;\r\n  //        }\r\n  //      }}\r\n  //      //pattern=\"[0-9]\"\r\n  //      autoComplete=\"off\"\r\n  //      onChange={(e) => {\r\n  //        const text = e.target.value;\r\n  //        const restrictedChar = [\".\", \"e\", \"-\", \"+\", \"*\", \"/\"];\r\n  //        let badInput = 0;\r\n  //        restrictedChar.forEach((r) => {\r\n  //          if (text.includes(r)) {\r\n  //            badInput += 1;\r\n  //          }\r\n  //        });\r\n  //        if (badInput === 0) {\r\n  //          setTransactionUser((p) => ({ ...p, sid: text }));\r\n  //        }\r\n  //      }}\r\n  //      value={transactionUser.sid}\r\n  //    />\r\n  //  </div>\r\n  //);\r\n\r\n  //const RenderTransaction = (t) => {\r\n  //const current = TRANSACTION_TYPE.filter((f) => f.type === t.name)[0];\r\n  //let progress = [];\r\n  //let i = 0;\r\n  //if (current) {\r\n  //  for (i = 0; i < current.components.length - 1; i++) {\r\n  //    progress.push(i <= t.flow);\r\n  //  }\r\n  //}\r\n  //return <TransactionSelection />;\r\n  //!t.name ? (\r\n  //  <TransactionSelection />\r\n  //) : (\r\n  //  <div className=\"\">\r\n  //    <div className=\"flex flex-row justify-between items-center pb-3 border-b\">\r\n  //      <div className=\"font-semibold text-lg\">{current.title}</div>\r\n  //      <button className=\"text-2xl\" onClick={() => setModal()}>\r\n  //        <AiOutlineClose className=\"text-lg\" />\r\n  //      </button>\r\n  //    </div>\r\n  //    {current[\"components\"][t.flow]}\r\n\r\n  //    <div\r\n  //      className={`flex flex-row items-center pt-3 ${\r\n  //        current.components.length - 1 === t.flow\r\n  //          ? \"justify-center\"\r\n  //          : \"justify-between\"\r\n  //      }`}\r\n  //    >\r\n  //      {current.components.length - 1 !== t.flow && (\r\n  //        <button\r\n  //          className=\"px-4 py-2 rounded bg-gray-200\"\r\n  //          onClick={() =>\r\n  //            setTransactionType((prev) => {\r\n  //              if (t.flow === 0) {\r\n  //                return { ...prev, name: null };\r\n  //              }\r\n  //              return { ...prev, flow: prev.flow - 1 };\r\n  //            })\r\n  //          }\r\n  //        >\r\n  //          Back\r\n  //        </button>\r\n  //      )}\r\n  //      {t.flow !== current.components.length - 1 && (\r\n  //        <div className=\"flex flex-row space-x-2\">\r\n  //          {progress.map((p, i) => (\r\n  //            <div\r\n  //              key={i}\r\n  //              className={`rounded-full h-2 w-2 ${\r\n  //                p ? \"bg-indigo-500\" : \"bg-gray-400\"\r\n  //              }`}\r\n  //            ></div>\r\n  //          ))}\r\n  //        </div>\r\n  //      )}\r\n  //      {t.flow === current.components.length - 2 ? (\r\n  //        <button\r\n  //          className=\"px-4 py-2 rounded bg-indigo-500 text-white\"\r\n  //          onClick={() => {\r\n  //            const newTransaction = {\r\n  //              id: v4(),\r\n  //              type: t.name,\r\n  //              items: transactionProducts,\r\n  //              data: {\r\n  //                isDn: transactionStatus.isDn,\r\n  //                ...transactionProducts.reduce(\r\n  //                  (a, b) => ({\r\n  //                    uv: a.uv + b[\"srp\"][\"uv\"] * b.count,\r\n  //                    pv: a.pv + b[\"srp\"][\"pv\"] * b.count,\r\n  //                    dn: a.dn + b[\"dn\"][\"price\"] * b.count,\r\n  //                    srp: a.srp + b[\"srp\"][\"price\"] * b.count,\r\n  //                  }),\r\n  //                  { uv: 0, pv: 0, dn: 0, srp: 0 }\r\n  //                ),\r\n  //              },\r\n  //              target:\r\n  //                t.name === \"STOCK_IN\"\r\n  //                  ? { name: \"shaklee\", sid: \"-\" }\r\n  //                  : t.name === \"STOCK_OUT\"\r\n  //                  ? { name: \"sales\", sid: \"-\" }\r\n  //                  : transactionUser,\r\n  //              isCompleted: transactionStatus.completed,\r\n  //              createdAt: new Date(),\r\n  //            };\r\n  //            setTransactions((p) => {\r\n  //              p.push(newTransaction);\r\n  //              return p;\r\n  //            });\r\n  //            setStocks((s) =>\r\n  //              transactionProducts.reduce(\r\n  //                (\r\n  //                  c,\r\n  //                  { product_no, count, images, name, tags, dn, srp, pcat }\r\n  //                ) => {\r\n  //                  const dataToStore = {\r\n  //                    product_no,\r\n  //                    count,\r\n  //                    images,\r\n  //                    name,\r\n  //                    tags,\r\n  //                    dn,\r\n  //                    srp,\r\n  //                    pcat,\r\n  //                  };\r\n  //                  const matchItem = stocks.filter(\r\n  //                    (t) => t.product_no === product_no\r\n  //                  );\r\n  //                  const isMatch = matchItem.length > 0;\r\n  //                  if (isMatch) {\r\n  //                    if (t.name === \"STOCK_IN\" || t.name === \"TRANSFER_IN\") {\r\n  //                      return c.map((e) =>\r\n  //                        e.product_no === product_no\r\n  //                          ? { ...e, count: e.count + count }\r\n  //                          : e\r\n  //                      );\r\n  //                    }\r\n  //                    // This 'else' targets STOCK_OUT & TRANSFER_OUT\r\n  //                    else {\r\n  //                      if (matchItem[0].count - count <= 0) {\r\n  //                        return c.filter((e) => e.product_no !== product_no);\r\n  //                      } else {\r\n  //                        return c.map((e) =>\r\n  //                          e.product_no === product_no\r\n  //                            ? { ...e, count: e.count - count }\r\n  //                            : e\r\n  //                        );\r\n  //                      }\r\n  //                    }\r\n  //                  } else {\r\n  //                    c.push(dataToStore);\r\n  //                    return c;\r\n  //                  }\r\n  //                },\r\n  //                s\r\n  //              )\r\n  //            );\r\n  //            setTransactionType((prev) => ({\r\n  //              ...prev,\r\n  //              flow: prev.flow + 1,\r\n  //            }));\r\n  //          }}\r\n  //        >\r\n  //          Create\r\n  //        </button>\r\n  //      ) : current.components.length - 1 === t.flow ? (\r\n  //        <button\r\n  //          className=\"px-4 py-2 rounded bg-indigo-500 text-white\"\r\n  //          onClick={() => {\r\n  //            setModal();\r\n  //          }}\r\n  //        >\r\n  //          Close\r\n  //        </button>\r\n  //      ) : (\r\n  //        <button\r\n  //          className=\"px-4 py-2 rounded bg-indigo-500 text-white\"\r\n  //          onClick={() => {\r\n  //            if (\r\n  //              (current.isUserRequired &&\r\n  //                current.components.length - 4 === t.flow &&\r\n  //                transactionUser.name.length > 0) ||\r\n  //              (current.components.length - 3 === t.flow &&\r\n  //                transactionProducts.length > 0) ||\r\n  //              current.components.length - 2 === t.flow\r\n  //            ) {\r\n  //              setTransactionType((prev) => ({\r\n  //                ...prev,\r\n  //                flow: prev.flow + 1,\r\n  //              }));\r\n  //            }\r\n  //          }}\r\n  //        >\r\n  //          Next\r\n  //        </button>\r\n  //      )}\r\n  //    </div>\r\n  //  </div>\r\n  //);\r\n  //};\r\n\r\n  const [pageIndex, setPageIndex] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(FLOW[0]);\r\n\r\n  const nextPage = () => {\r\n    setPageIndex((prev) => (prev > FLOW.length - 2 ? prev : prev + 1));\r\n  };\r\n\r\n  const previousPage = () => {\r\n    setPageIndex((prev) => (prev > 0 ? prev - 1 : prev));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(FLOW[pageIndex]);\r\n  }, [pageIndex]);\r\n\r\n  return (\r\n    <div\r\n      className=\" rounded shadow-lg modal-y-boundary  bg-white  mb-16 w-full mx-auto max-w-md sm:max-w-xl md:max-w-2xl xl:max-w-4xl 2xl:max-w-6xl\"\r\n      onClick={() => {\r\n        //setModal();\r\n      }}\r\n    >\r\n      <div className=\"flex flex-row justify-between items-center py-4 px-6  border-b\">\r\n        <div className=\"font-semibold text-lg\">{currentPage.title}</div>\r\n        <button className=\"text-2xl\" onClick={() => setModal()}>\r\n          <AiOutlineClose className=\"text-lg\" />\r\n        </button>\r\n      </div>\r\n      <div className=\"p-6\">\r\n        {currentPage.component({\r\n          setModal,\r\n          nextPage,\r\n          previousPage,\r\n          stocks,\r\n          setStocks,\r\n          setTransactionType,\r\n          transactionType,\r\n          storeProducts,\r\n          transactionProducts,\r\n          setTransactionProducts,\r\n          transactionStatus,\r\n          setTransactionStatus,\r\n          setTransactions,\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst TransactionSelection = ({ stocks, setTransactionType, nextPage }) => {\r\n  const TRANSACTION_TYPE = [\r\n    //{\r\n    //  isUserRequired: true,\r\n    //  selection: true,\r\n    //  type: \"TRANSFER_IN\",\r\n    //  components: [\r\n    //    TransactionUser,\r\n    //    <ProductSelection />,\r\n    //    <TransactionOverview />,\r\n    //    <TransactionResult />,\r\n    //  ],\r\n    //  title: \"Transfer In\",\r\n    //  description: \"Buy products from Upline (Receiving the UV/PV)\",\r\n    //},\r\n    //{\r\n    //  isUserRequired: true,\r\n    //  selection: true,\r\n    //  type: \"TRANSFER_OUT\",\r\n    //  components: [\r\n    //    TransactionUser,\r\n    //    <ProductSelection />,\r\n    //    <TransactionOverview />,\r\n    //    <TransactionResult />,\r\n    //  ],\r\n    //  title: \"Transfer Out\",\r\n    //  description: \"Sell products to Downline (Transafering the UV/PV)\",\r\n    //},\r\n    {\r\n      isUserRequired: false,\r\n      selection: true,\r\n      type: \"STOCK_IN\",\r\n      components: [\r\n        //<ProductSelection />,\r\n        //<TransactionOverview />,\r\n        //<TransactionResult />,\r\n      ],\r\n      title: \"Stock In\",\r\n      description: \"Add products to your inventory\",\r\n    },\r\n    {\r\n      isUserRequired: false,\r\n      selection: true,\r\n      type: \"STOCK_OUT\",\r\n      components: [\r\n        //<ProductSelection />,\r\n        //<TransactionOverview />,\r\n        //<TransactionResult />,\r\n      ],\r\n      title: \"Stock Out\",\r\n      description: \"Remove products from your inventory\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 gap-4  md:grid-cols-2\">\r\n      {TRANSACTION_TYPE.filter((r) => r.selection).map((t, i) => {\r\n        const outNotAvailable = stocks.length === 0;\r\n\r\n        return (\r\n          <button\r\n            key={i}\r\n            className=\"p-4 rounded border block h-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            disabled={\r\n              outNotAvailable &&\r\n              (t.type === \"TRANSFER_OUT\" || t.type === \"STOCK_OUT\")\r\n            }\r\n            data-type={t.type}\r\n            onClick={(e) => {\r\n              setTransactionType(e.currentTarget.dataset.type);\r\n              nextPage();\r\n            }}\r\n          >\r\n            <div className=\"font-semibold text-lg\">{t.title}</div>\r\n            <div className=\"\">{t.description}</div>\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TransactionOverview = ({\r\n  transactionProducts,\r\n  nextPage,\r\n  previousPage,\r\n  transactionStatus,\r\n  setTransactionStatus,\r\n  transactionType,\r\n  setTransactions,\r\n  stocks,\r\n  setStocks,\r\n}) => {\r\n  if (transactionProducts.length === 0) {\r\n    previousPage();\r\n  }\r\n\r\n  const [stats, setStats] = useState({ dn: 0, srp: 0, uv: 0, pv: 0 });\r\n  useEffect(() => {\r\n    setStats(\r\n      transactionProducts.reduce(\r\n        (a, b) => ({\r\n          dn: a.dn + (b.dn?.price || 0) * b.count,\r\n          srp: a.srp + (b.srp?.price || 0) * b.count,\r\n          uv: a.uv + (b.dn?.uv || 0) * b.count,\r\n          pv: a.pv + (b.dn?.pv || 0) * b.count,\r\n        }),\r\n        { dn: 0, srp: 0, uv: 0, pv: 0 }\r\n      )\r\n    );\r\n  }, [transactionStatus.isDn]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"grid grid-cols-4 md:grid-cols-6 gap-4 max-h-48 overflow-y-scroll my-4\">\r\n        {transactionProducts.map((p) => (\r\n          <div key={p.product_no} className=\"relative\">\r\n            <img src={p.images[0]} alt={p.name} />\r\n            <div className=\"absolute flex justify-end items-end top-0 left-0 w-full h-full bg-black bg-opacity-10 \">\r\n              <div className=\"flex right-0 bottom-0 rounded-tl-lg text-xs px-2 py-1  bg-indigo-500 text-white\">\r\n                x{p.count}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <label\r\n        htmlFor=\"useDn\"\r\n        className=\"flex flex-row items-center hover:cursor-pointer\"\r\n      >\r\n        Use Member Price?\r\n        {/*<div\r\n          className={`ml-2 border rounded h-4 w-4 flex items-center justify-center ${\r\n            transactionStatus.isDn\r\n              ? \"bg-indigo-500 border-indigo-500\"\r\n              : \"border-gray-300\"\r\n          }`}\r\n        >\r\n          {transactionStatus.isDn && (\r\n            <AiOutlineCheck\r\n              className={`text-xs text-white ${\r\n                !transactionStatus.isDn ? \"hidden\" : \"\"\r\n              }`}\r\n            />\r\n          )}\r\n        </div>*/}\r\n        <input\r\n          type=\"checkbox\"\r\n          id=\"useDn\"\r\n          checked={transactionStatus.isDn}\r\n          name=\"use_member\"\r\n          onChange={() =>\r\n            setTransactionStatus((p) => ({ ...p, isDn: !p.isDn }))\r\n          }\r\n        />\r\n        <div\r\n          className={`ml-2  border  rounded h-4 w-4 ${\r\n            transactionStatus.isDn\r\n              ? \"bg-indigo-500 border-indigo-500\"\r\n              : \"border-gray-300\"\r\n          }`}\r\n        ></div>\r\n      </label>\r\n\r\n      {/*<label\r\n        htmlFor=\"completed\"\r\n        className=\"flex flex-row items-center hover:cursor-pointer\"\r\n      >\r\n        Completed?\r\n        <div\r\n          className={`ml-2 border rounded h-4 w-4 flex items-center justify-center ${\r\n            transactionStatus.completed\r\n              ? \"bg-indigo-500 border-indigo-500\"\r\n              : \"border-gray-300\"\r\n          }`}\r\n        >\r\n          {transactionStatus.completed && (\r\n            <AiOutlineCheck\r\n              className={`text-xs text-white ${\r\n                !transactionStatus.completed ? \"hidden\" : \"\"\r\n              }`}\r\n            />\r\n          )}\r\n        </div>\r\n        <input\r\n          type=\"checkbox\"\r\n          id=\"completed\"\r\n          checked={transactionStatus.completed}\r\n          name=\"completed\"\r\n          onChange={() =>\r\n            setTransactionStatus((s) => ({ ...s, completed: !s.completed }))\r\n          }\r\n        />\r\n        <div\r\n          className={`ml-2  border  rounded h-4 w-4 ${\r\n            transactionStatus.completed\r\n              ? \"bg-indigo-500 border-indigo-500\"\r\n              : \"border-gray-300\"\r\n          }`}\r\n        ></div>\r\n      </label>\r\n*/}\r\n      <div className=\"my-4\">\r\n        <div className=\"flex flex-row justify-between items-center\">\r\n          <div className=\" text-gray-500 text\">UV</div>\r\n          <div className=\" text-black text-lg\">{`${stats.uv} UV`}</div>\r\n        </div>\r\n        <div className=\"flex flex-row justify-between items-center\">\r\n          <div className=\" text-gray-500 text\">PV</div>\r\n          <div className=\" text-black text-lg\">{`${stats.pv} PV`}</div>\r\n        </div>\r\n        <div className=\"flex flex-row justify-between items-center\">\r\n          <div className=\" text-gray-500 text\">\r\n            {transactionStatus.isDn ? \"Member Price\" : \"Retail Price\"}\r\n          </div>\r\n          <div className=\"text-black text-lg\">\r\n            {`RM ${transactionStatus.isDn ? stats.dn : stats.srp}`}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex flex-row items-center pt-3 justify-between\">\r\n        <button\r\n          className=\"px-4 py-2 rounded bg-gray-200\"\r\n          onClick={() => previousPage()}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          className=\"px-4 py-2 rounded bg-indigo-500 text-white\"\r\n          onClick={() => {\r\n            const newTransaction = {\r\n              id: v4(),\r\n              type: transactionType,\r\n              items: transactionProducts,\r\n              data: {\r\n                isDn: transactionStatus.isDn,\r\n                ...transactionProducts.reduce(\r\n                  (a, b) => ({\r\n                    uv: a.uv + (b.srp?.uv || 0) * b.count,\r\n                    pv: a.pv + (b.srp?.pv || 0) * b.count,\r\n                    dn: a.dn + (b.dn?.price || 0) * b.count,\r\n                    srp: a.srp + (b.srp?.price || 0) * b.count,\r\n                  }),\r\n                  { uv: 0, pv: 0, dn: 0, srp: 0 }\r\n                ),\r\n              },\r\n              //target:\r\n              //  transactionType === \"STOCK_IN\"\r\n              //    ? { name: \"shaklee\", sid: \"-\" }\r\n              //    : transactionType === \"STOCK_OUT\"\r\n              //    ? { name: \"sales\", sid: \"-\" }\r\n              //    : transactionUser,\r\n              //isCompleted: transactionStatus.completed,\r\n              createdAt: new Date(),\r\n            };\r\n            setTransactions((p) => {\r\n              p.push(newTransaction);\r\n              return p;\r\n            });\r\n            setStocks((s) =>\r\n              transactionProducts.reduce(\r\n                (\r\n                  c,\r\n                  { product_no, count, images, name, tags, dn, srp, pcat }\r\n                ) => {\r\n                  const dataToStore = {\r\n                    product_no,\r\n                    count,\r\n                    images,\r\n                    name,\r\n                    tags,\r\n                    dn,\r\n                    srp,\r\n                    pcat,\r\n                  };\r\n                  const matchItem = stocks.filter(\r\n                    (t) => t.product_no === product_no\r\n                  );\r\n                  const isMatch = matchItem.length > 0;\r\n                  if (isMatch) {\r\n                    if (\r\n                      transactionType === \"STOCK_IN\" ||\r\n                      transactionType === \"TRANSFER_IN\"\r\n                    ) {\r\n                      return c.map((e) =>\r\n                        e.product_no === product_no\r\n                          ? { ...e, count: e.count + count }\r\n                          : e\r\n                      );\r\n                    }\r\n                    // This 'else' targets STOCK_OUT & TRANSFER_OUT\r\n                    else {\r\n                      if (matchItem[0].count - count <= 0) {\r\n                        return c.filter((e) => e.product_no !== product_no);\r\n                      } else {\r\n                        return c.map((e) =>\r\n                          e.product_no === product_no\r\n                            ? { ...e, count: e.count - count }\r\n                            : e\r\n                        );\r\n                      }\r\n                    }\r\n                  } else {\r\n                    c.push(dataToStore);\r\n                    return c;\r\n                  }\r\n                },\r\n                s\r\n              )\r\n            );\r\n            nextPage();\r\n          }}\r\n        >\r\n          Create\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TransactionResult = ({ setModal }) => {\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col items-center justify-center w-full my-6\">\r\n        <div className=\"text-3xl\">Successful!</div>\r\n        <AiFillCheckCircle className=\"text-5xl text-green-400 my-6\" />\r\n        <div>{`Transaction has been added!`}</div>\r\n      </div>\r\n      <div className=\"w-full flex flex-row items-center pt-3 justify-center\">\r\n        <button\r\n          className=\"px-4 py-2 rounded bg-gray-200\"\r\n          onClick={() => setModal()}\r\n        >\r\n          Close\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ProductSelection = ({\r\n  nextPage,\r\n  previousPage,\r\n  transactionType,\r\n  stocks,\r\n  storeProducts,\r\n  transactionProducts,\r\n  setTransactionProducts,\r\n}) => {\r\n  const listToFilter =\r\n    transactionType === \"STOCK_IN\" || transactionType === \"TRANSFER_IN\"\r\n      ? storeProducts\r\n      : stocks;\r\n\r\n  const addProductsToTransaction = (p) => {\r\n    const { product_no } = p;\r\n    const target = transactionProducts.filter(\r\n      (q) => q.product_no === product_no\r\n    )[0];\r\n    if (\r\n      target &&\r\n      target.count ===\r\n        stocks.filter((r) => r.product_no === product_no)[0]?.[\"count\"]\r\n    ) {\r\n      return;\r\n    } else {\r\n      setTransactionProducts((prev) => {\r\n        if (prev.filter((t) => t.product_no === product_no).length > 0) {\r\n          return transactionProducts.map((t) =>\r\n            t.product_no === product_no ? { ...t, count: t.count + 1 } : t\r\n          );\r\n        }\r\n        return [...prev, { ...p, count: 1 }];\r\n      });\r\n    }\r\n  };\r\n\r\n  const {\r\n    state: filterState,\r\n    onChange: filterOnChange,\r\n    onKeyDown: filterOnKeyDown,\r\n  } = useSuggestionInput(\r\n    {\r\n      suggestions: listToFilter.map((s) => ({\r\n        ...s,\r\n        suggestionName: s.name,\r\n        suggestionTag: s.tags.join(\"\").toLowerCase(),\r\n      })),\r\n      keys: [\"suggestionName\", \"suggestionTag\"],\r\n    },\r\n    addProductsToTransaction\r\n  );\r\n\r\n  const [tempHide, setTempHide] = useState(false);\r\n  useEffect(() => {\r\n    setTempHide(false);\r\n  }, [filterState.userInput]);\r\n  return (\r\n    <div>\r\n      <div className=\"relative flex flex-col \">\r\n        <label className=\"my-2\">Select Products</label>\r\n        <input\r\n          className=\"mb-4 w-full p-2 rounded border-1 bg-gray-100 h-10\"\r\n          type=\"text\"\r\n          placeholder=\"E.g. Vivix/Omega/promotion \"\r\n          value={filterState.userInput}\r\n          onChange={(e) => {\r\n            filterOnChange(e);\r\n          }}\r\n          onKeyDown={(e) => {\r\n            e.stopPropagation();\r\n            filterOnKeyDown(e);\r\n            if (e.key === \"Enter\") {\r\n              setTempHide(true);\r\n            }\r\n          }}\r\n        />\r\n\r\n        {!tempHide &&\r\n          filterState.showSuggestions &&\r\n          filterState.userInput.length > 0 && (\r\n            <div className=\"absolute top-20 shadow border rounded w-full bg-white z-10 max-h-80 overflow-y-scroll\">\r\n              {filterState.filteredSuggestions.slice(0, 8).map((f, i) => (\r\n                <button\r\n                  className={`block w-full p-2 overflow-hidden ${\r\n                    filterState.activeSuggestion === i ? \"bg-gray-100\" : \"\"\r\n                  }`}\r\n                  key={i}\r\n                  data-index={i}\r\n                  onClick={(e) => {\r\n                    addProductsToTransaction(\r\n                      filterState.filteredSuggestions[\r\n                        e.currentTarget.dataset.index\r\n                      ]\r\n                    );\r\n                    setTempHide(true);\r\n                  }}\r\n                >\r\n                  <div className=\"flex flex-row justify-between items-center\">\r\n                    <div className=\"w-16 rounded-full\">\r\n                      <img src={f.images[0]} alt={f.name} />\r\n                    </div>\r\n                    <div className=\"flex-grow\">{f.name}</div>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n      </div>\r\n      {transactionProducts.length > 0 && (\r\n        <div className=\"flex flex-col space-y-3 my-4 max-h-72 overflow-y-scroll\">\r\n          {transactionProducts.map((p) => (\r\n            <div\r\n              key={p.product_no}\r\n              className=\"flex flex-row justify-between items-center\"\r\n            >\r\n              <div className=\"flex items-center\">\r\n                <div className=\"w-12\">\r\n                  <img src={p.images[0]} alt={p.name} />\r\n                </div>\r\n                <div className=\"pl-2\">{p.name}</div>\r\n              </div>\r\n              <div className=\"flex flex-row items-center\">\r\n                <button\r\n                  className=\"rounded bg-indigo-500 text-white w-6 h-6\"\r\n                  data-pid={p.product_no}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setTransactionProducts((r) =>\r\n                      r\r\n                        .map((q) =>\r\n                          q.product_no === e.target.dataset.pid\r\n                            ? q.count !== 1\r\n                              ? { ...q, count: q.count - 1 }\r\n                              : null\r\n                            : q\r\n                        )\r\n                        .filter((r) => r)\r\n                    );\r\n                  }}\r\n                >\r\n                  -\r\n                </button>\r\n                <div className=\"w-10 text-center\">{p.count}</div>\r\n                <button\r\n                  className=\"rounded bg-indigo-500 text-white w-6 h-6\"\r\n                  data-pid={p.product_no}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setTransactionProducts((r) =>\r\n                      r.map((q) => {\r\n                        if (q.product_no === e.target.dataset.pid) {\r\n                          if (\r\n                            // Outgoing Product\r\n                            (transactionType === \"TRANSFER_OUT\" ||\r\n                              transactionType === \"STOCK_OUT\") &&\r\n                            q.count ===\r\n                              stocks.filter(\r\n                                (s) => s.product_no === q.product_no\r\n                              )[0][\"count\"]\r\n                          ) {\r\n                            return q;\r\n                          }\r\n                          return { ...q, count: q.count + 1 };\r\n                        }\r\n                        return q;\r\n                      })\r\n                    );\r\n                  }}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div className=\"w-full flex flex-row items-center pt-3 justify-between\">\r\n        <button\r\n          className=\"px-4 py-2 rounded bg-gray-200\"\r\n          onClick={() => previousPage()}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          disabled={transactionProducts.length < 1}\r\n          className=\"px-4 py-2 rounded bg-indigo-500 text-white disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          onClick={() => {\r\n            if (transactionProducts.length < 1) {\r\n              alert(\"Please select at least 1 product!\");\r\n              return;\r\n            }\r\n            nextPage();\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\StockDisplay.js",[],["176","177"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\FavouriteButton.js",["178","179"],"import React, { useContext } from \"react\";\r\nimport { AiFillStar, AiOutlineStar } from \"react-icons/ai\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nexport default function FavouriteButton({\r\n  parentClassName,\r\n  prod_no,\r\n  size,\r\n  isFav,\r\n}) {\r\n  const { toggleFavourite } = useContext(userContext);\r\n  const handleFavourite = (e) => {\r\n    const prodno = e.currentTarget.dataset.prodno;\r\n    //e.target.dataset.prodno ||\r\n    //e.target.parentNode.dataset.prodno ||\r\n    //e.target.parentNode.parentNode.dataset.prodno;\r\n    //e.stopPropagation();\r\n    //console.log(e.currentTarget.dataset.prodno);\r\n    //setFavouriteProducts((f) => {\r\n    //  if (f.includes(prodno)) {\r\n    //    return f.filter((g) => g !== prodno);\r\n    //  }\r\n    //  f.push(prodno);\r\n    //  return f;\r\n\r\n    //let d = f.data || [];\r\n    //if (d.includes(prodno)) {\r\n    //  return { data: d.filter((n) => n !== prodno) };\r\n    //} else {\r\n    //  d.push(prodno);\r\n    //  return { data: d };\r\n    //}\r\n    //});\r\n  };\r\n  return (\r\n    <div\r\n      className={`flex hover:cursor-pointer ${parentClassName || \"\"}`}\r\n      data-prodno={prod_no}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        toggleFavourite(e.currentTarget.dataset.prodno);\r\n      }}\r\n    >\r\n      {isFav ? (\r\n        <AiFillStar size={size} className=\"text-yellow-300\" />\r\n      ) : (\r\n        <AiOutlineStar size={size} className=\"text-yellow-300\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\ProductDisplay.js",["180","181","182","183"],"import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AiOutlineClose, AiOutlineSafety } from \"react-icons/ai\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loading from \"../Components/Loading\";\r\nimport ModalLayout from \"../Components/ModalLayout\";\r\nimport PriceBar from \"../Components/PriceBar\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nexport default function ProductDisplay({ prod_no }) {\r\n  const { storeProducts, setModal, stocks } = useContext(userContext);\r\n  const [displayLoading, setDisplayLoading] = useState(true);\r\n  const [currentProduct, setCurrentProduct] = useState({});\r\n  const currentStock = useRef([]);\r\n  useEffect(() => {\r\n    setDisplayLoading(true);\r\n    setCurrentProduct(storeProducts.filter((s) => s.product_no === prod_no)[0]);\r\n    currentStock.current = stocks.filter((s) => s.product_no === prod_no);\r\n    currentStock.current.length > 0 &&\r\n      setCurrentProduct((p) => ({\r\n        ...p,\r\n        count: currentStock.current[0][\"count\"],\r\n      }));\r\n    setDisplayLoading(false);\r\n  }, []);\r\n  return (\r\n    <div\r\n      className=\"rounded shadow-lg modal-y-boundary bg-white w-full mx-auto max-w-md sm:max-w-xl md:max-w-2xl xl:max-w-4xl 2xl:max-w-6xl\"\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-between w-full py-4 px-6 border-b\">\r\n        <div className=\"truncate\">{currentProduct[\"name\"] || \"\"}</div>\r\n        <button onClick={() => setModal()}>\r\n          <AiOutlineClose />\r\n        </button>\r\n      </div>\r\n      {displayLoading ? (\r\n        <Loading parentClassName=\"my-12\" />\r\n      ) : (\r\n        <div\r\n          className=\"overflow-y-auto flex flex-col items-center md:grid md:grid-cols-6 md:gap-12 w-full\"\r\n          style={{ maxHeight: \"70vh\" }}\r\n        >\r\n          {/*<img loading=\"lazy\" src={s.images[0]} alt={s.name} />\r\n           */}\r\n          {/*<div className=\"relative h-52 w-full md:col-span-2\">\r\n            <div\r\n              className=\"w-full h-full bg-center bg-no-repeat bg-contain\"\r\n              style={{ backgroundImage: `url(${currentProduct.images[0]})` }}\r\n            ></div>\r\n          </div>*/}\r\n          <div className=\"h-48 md:h-auto w-full md:col-span-3 p-6\">\r\n            <img\r\n              className=\"w-1/2 mx-auto md:w-full h-auto\"\r\n              src={currentProduct[\"images\"][0]}\r\n              alt={currentProduct[\"name\"]}\r\n              loading=\"lazy\"\r\n            />\r\n          </div>\r\n          <div className=\" p-6 md:col-span-3 flex flex-col items-center w-full h-full md:w-full md:justify-between\">\r\n            <div>\r\n              {currentProduct.count && (\r\n                <div className=\"my-2\">\r\n                  You currently have{\" \"}\r\n                  {\r\n                    <span className=\"font-semibold\">\r\n                      {currentProduct.count}\r\n                    </span>\r\n                  }{\" \"}\r\n                  of this.\r\n                </div>\r\n              )}\r\n            </div>\r\n            {\r\n              <PriceBar\r\n                dn={currentProduct.dn.price}\r\n                srp={currentProduct.srp.price}\r\n              />\r\n            }\r\n            <div className=\"flex flex-row justify-between items-center w-full my-4 md:my-6\">\r\n              <div></div>\r\n              <div className=\"flex flex-col items-center space-y-2\">\r\n                <AiOutlineSafety className=\"text-3xl text-gray-600\" />\r\n                <div>{`${currentProduct.srp.uv} UV`}</div>\r\n              </div>\r\n              <div className=\"w-px h-11 bg-gray-400\"></div>\r\n              <div className=\"flex flex-col items-center space-y-2\">\r\n                <AiOutlineSafety className=\"text-3xl text-gray-600\" />\r\n                <div>{`${currentProduct.srp.pv} PV`}</div>\r\n              </div>\r\n              <div></div>\r\n            </div>\r\n            <div className=\"flex w-full mx-0\">\r\n              <a\r\n                target=\"_blank\"\r\n                href={`https://shaklee.com.my/products/${currentProduct.pcat}/${currentProduct.product_no}`}\r\n                className=\"w-full text-center bg-indigo-500 px-3 py-2 text-white rounded\"\r\n              >\r\n                Visit Website\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\productStatus.js",[],["184","185"],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Modal\\TransactionDisplay.js",["186","187","188","189","190","191"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  AiOutlineCheck,\r\n  AiOutlineClose,\r\n  AiOutlineDollar,\r\n  AiOutlineSafety,\r\n} from \"react-icons/ai\";\r\nimport Loading from \"../Components/Loading\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\n\r\nexport default function TransactionDisplay({ transaction }) {\r\n  const { setModal, transactions, setTransactions, stocks } = useContext(\r\n    userContext\r\n  );\r\n  const [displayLoading, setDisplayLoading] = useState(true);\r\n  const [isChanged, setIsChanged] = useState(false);\r\n  const [editableTransaction, setEditableTransaction] = useState(\r\n    () => transaction\r\n  );\r\n  useEffect(() => {\r\n    setDisplayLoading(false);\r\n  }, []);\r\n  /*\r\n    What can user do with edit?\r\n    -Add/remove product\r\n    -Add/minus amount\r\n    -Price (Member/Retail)\r\n\r\n    Flow 1:\r\n    1. Get the edited transaction\r\n    2. Virtually merged with the list of transactions\r\n    3. Iterate through list of transactions and generate the list of stocks\r\n    4. Filter the list of stocks to check validity\r\n\r\n    Flow 2:\r\n    1. Get the edited transaction\r\n    2. Compare to the un-edited transation to find out which product +/- amount\r\n       E.g. \r\n        [\r\n          {\r\n              product_no: 'P1001',\r\n              changes: +3\r\n            }\r\n          ]\r\n    3. Check validity with current list of stocks\r\n    4. If ok, then proceed\r\n*/\r\n\r\n  const handleEditing = () => {\r\n    const newTransactions = transactions.map((t) => {\r\n      if (t.id === transaction.id) {\r\n        return editableTransaction;\r\n      }\r\n      return t;\r\n    });\r\n\r\n    // Or\r\n    // Check if new transaction is valid\r\n\r\n    setTransactions((prev) =>\r\n      prev.map((t) => {\r\n        if (t.id === transaction.id) {\r\n          return editableTransaction;\r\n        }\r\n        return t;\r\n      })\r\n    );\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <div\r\n      className=\"rounded shadow-lg modal-y-boundary bg-white w-full mx-auto max-w-md sm:max-w-xl md:max-w-2xl xl:max-w-4xl 2xl:max-w-6xl\"\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-between w-full py-4 px-6 border-b\">\r\n        <div className=\"truncate\">Transaction Details</div>\r\n        <button onClick={() => setModal()}>\r\n          <AiOutlineClose />\r\n        </button>\r\n      </div>\r\n      {displayLoading ? (\r\n        <Loading parentClassName=\"my-32\" />\r\n      ) : (\r\n        <div\r\n          className=\"overflow-y-auto w-full p-6\"\r\n          style={{ maxHeight: \"70vh\" }}\r\n        >\r\n          {/*<div className=\"grid grid-cols-4 gap-4 max-h-48 overflow-y-scroll my-4\">\r\n            {editableTransaction.items.map((p) => (\r\n              <div key={p.product_no} className=\"relative\">\r\n                <img src={p.images[0]} alt={p.name} loading=\"lazy\" />\r\n                <div className=\"absolute top-0 w-full h-full left-0 z-10 bg-black bg-opacity-60 flex items-center justify-center text-white text-lg\">\r\n                  x{p.count}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>*/}\r\n          <div className=\"grid grid-cols-4 md:grid-cols-6 gap-4 max-h-48 overflow-y-scroll my-4\">\r\n            {editableTransaction.items.map((p) => (\r\n              <div key={p.product_no} className=\"relative\">\r\n                <img src={p.images[0]} alt={p.name} />\r\n                <div className=\"absolute flex justify-end items-end top-0 left-0 w-full h-full bg-black bg-opacity-10 \">\r\n                  <div className=\"flex right-0 bottom-0 rounded-tl-lg text-xs px-2 py-1  bg-indigo-400 text-white\">\r\n                    x{p.count}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {/*<label\r\n            htmlFor=\"useDn\"\r\n            className=\"flex items-center hover:cursor-pointer\"\r\n          >\r\n            <div>Use Member Price?</div>\r\n\r\n            <div\r\n              className={`ml-2 border rounded h-5 w-5 flex items-center justify-center ${\r\n                editableTransaction.data.isDn\r\n                  ? \"bg-indigo-400 border-indigo-400\"\r\n                  : \"border-gray-300\"\r\n              }`}\r\n            >\r\n              {editableTransaction.data.isDn && (\r\n                <AiOutlineCheck\r\n                  className={`text-xs text-white ${\r\n                    !editableTransaction.data.isDn ? \"hidden\" : \"\"\r\n                  }`}\r\n                />\r\n              )}\r\n            </div>\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"useDn\"\r\n              className=\"hidden\"\r\n              defaultChecked={editableTransaction.data.isDn}\r\n              name=\"use_member\"\r\n              onChange={() => {\r\n                setIsChanged(true);\r\n                setEditableTransaction((r) => {\r\n                  const data = { ...r.data, isDn: !r.data.isDn };\r\n                  return { ...r, data };\r\n                });\r\n              }}\r\n            />\r\n          </label>*/}\r\n          <div className=\"flex items-center justify-around my-6\">\r\n            <div className=\"flex items-center\">\r\n              {editableTransaction.data.isDn ? (\r\n                <>\r\n                  <AiOutlineCheck className=\"pr-2 text-4xl text-green-500\" />\r\n                  <div>Member Price</div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <AiOutlineClose className=\"pr-2 text-4xl text-red-500\" />\r\n                  <div>Retail Price</div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"my-6 flex flex-row justify-between items-center\">\r\n            <div></div>\r\n            <div\r\n              className=\"flex flex-col items-center space-y-2\"\r\n              style={{ minWidth: \"30%\" }}\r\n            >\r\n              <AiOutlineSafety className=\"text-3xl text-gray-600\" />\r\n              <div>{`${editableTransaction.data.uv} UV`}</div>\r\n            </div>\r\n            <div className=\"w-px h-11 bg-gray-400\"></div>\r\n            <div\r\n              className=\"flex flex-col items-center space-y-2\"\r\n              style={{ minWidth: \"30%\" }}\r\n            >\r\n              <AiOutlineSafety className=\"text-3xl text-gray-600\" />\r\n              <div>{`${editableTransaction.data.pv} PV`}</div>\r\n            </div>\r\n            <div className=\"w-px h-11 bg-gray-400\"></div>\r\n            <div\r\n              className=\"flex flex-col items-center space-y-2\"\r\n              style={{ minWidth: \"30%\" }}\r\n            >\r\n              <AiOutlineDollar className=\"text-3xl text-gray-600\" />\r\n              <div>\r\n                {`RM ${\r\n                  editableTransaction.data.isDn\r\n                    ? editableTransaction.data.dn\r\n                    : editableTransaction.data.srp\r\n                }`}\r\n              </div>\r\n            </div>\r\n            <div></div>\r\n          </div>\r\n          <button\r\n            onClick={() => setModal()}\r\n            className=\"flex w-full justify-center items-center rounded bg-gray-300  px-3 py-2\"\r\n          >\r\n            Close\r\n          </button>\r\n          {/*{isChanged && (\r\n          <div className=\"w-full flex justify-end space-x-3\">\r\n            <button\r\n              onClick={() => setModal()}\r\n              className=\"flex items-center rounded bg-gray-300  px-3 py-2\"\r\n            >\r\n              Cancel\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => handleEditing()}\r\n              className=\"flex items-center rounded bg-indigo-400 text-white px-3 py-2\"\r\n            >\r\n              Save Change\r\n            </button>\r\n          </div>\r\n        )}*/}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\Loading.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\TransactionTable.js",["192","193","194","195","196","197"],"import React, { useContext } from \"react\";\r\nimport {\r\n  AiOutlineBorder,\r\n  AiOutlineCheckSquare,\r\n  AiOutlineDollarCircle,\r\n  AiOutlineExport,\r\n  AiOutlineImport,\r\n  AiOutlineInfoCircle,\r\n  AiOutlineShoppingCart,\r\n} from \"react-icons/ai\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\nimport capitalize from \"../helper/capitalize\";\r\nimport isToday from \"../helper/isToday\";\r\nimport TransactionDisplay from \"../Modal/TransactionDisplay\";\r\n\r\nexport default function TransactionTable({ filteredTransactions }) {\r\n  const { setModal, toggleTransactionStatus } = useContext(userContext);\r\n  return (\r\n    <div className=\"table-fixed  rounded bg-white shadow-md w-full\">\r\n      <thead className=\"block w-full py-1 border-b\">\r\n        <tr className=\"flex w-full \">\r\n          <th className=\"w-2/12 py-3\">Type</th>\r\n          <th className=\"w-7/12 py-3\">Items</th>\r\n          {/*<th className=\"hidden sm:table-cell w-2/12 py-3\">SID</th>\r\n          <th className=\"w-3/12 sm:w-2/12 py-3\">Date</th>*/}\r\n          <th className=\"w-3/12 py-3\">Date</th>\r\n        </tr>\r\n      </thead>\r\n      {!filteredTransactions.length ? (\r\n        <div className=\"flex flex-col items-center py-6 space-y-3 w-full text-center\">\r\n          <AiOutlineInfoCircle className=\"text-3xl\" />\r\n          <div>No transactions found</div>\r\n        </div>\r\n      ) : (\r\n        <tbody className=\"block w-full h-full overflow-x-hidden\">\r\n          {filteredTransactions.map((t) => (\r\n            <tr\r\n              key={t.id}\r\n              className=\"flex w-full hover:cursor-pointer hover:bg-gray-100\"\r\n              onClick={() => setModal(<TransactionDisplay transaction={t} />)}\r\n            >\r\n              <div className=\"table-cell w-2/12 \">\r\n                <div className=\"w-full h-full flex items-center justify-center rounded-full\">\r\n                  {\r\n                    //t.type === \"STOCK_IN\" ? (\r\n                    //  <AiOutlineShoppingCart size=\"20px\" />\r\n                    //) : t.type === \"STOCK_OUT\" ? (\r\n                    //  <AiOutlineDollarCircle size=\"20px\" />\r\n                    //) :\r\n                    t.type === \"STOCK_IN\" ? (\r\n                      <AiOutlineImport size=\"20px\" />\r\n                    ) : (\r\n                      <AiOutlineExport size=\"20px\" />\r\n                    )\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div className=\"table-cell w-7/12 text-center py-4 px-2 sm:px-6 md:px-8 truncate\">\r\n                {/*{t.items.reduce((a, b) => a + b.count, 0)}*/}\r\n                <div className=\"w-full flex items-center flex-nowrap overflow-x-hidden\">\r\n                  {t.items.slice(0, 5).map((t, i) => (\r\n                    <div\r\n                      className=\"relative h-12 w-12 rounded-full overflow-hidden shadow-sm  flex justify-center items-center\"\r\n                      style={{\r\n                        marginLeft: `${i !== 0 ? -8 : 0}px`,\r\n                        backgroundImage: `url(\"${t.images[0]}\")`,\r\n                        backgroundRepeat: \"no-repeat\",\r\n                        backgroundPosition: \"center\",\r\n                        backgroundSize: \"cover\",\r\n                      }}\r\n                    >\r\n                      <div className=\"bg-black opacity-30 absolute top-0 left-0 h-full w-full \"></div>\r\n                      <div className=\"text-white text-sm font-semibold z-10\">\r\n                        {t.count}\r\n                      </div>\r\n                      {/*<img src={t.images[0]} className=\" h-12 w-12\" />*/}\r\n                    </div>\r\n                  ))}\r\n                  {t.items.length > 3 ? (\r\n                    <div\r\n                      className=\"relative bg-white h-12 w-12 rounded-full overflow-hidden shadow-sm  flex justify-center items-center\"\r\n                      style={{\r\n                        marginLeft: `-8px`,\r\n                      }}\r\n                    >\r\n                      <div className=\"bg-black opacity-40 absolute top-0 left-0 h-full w-full \"></div>\r\n                      <div className=\"text-white text-sm font-semibold z-10\">\r\n                        {`+${t.items.length - 3}`}\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n              {/*<div className=\"hidden sm:table-cell w-2/12 text-center py-4 px-2\">\r\n                {\"-\"}\r\n              </div>*/}\r\n              <div className=\"table-cell w-3/12 text-center\">\r\n                <div className=\"flex items-center justify-center py-4 px-2 h-full w-full\">\r\n                  <div>\r\n                    {isToday(new Date(t.createdAt))\r\n                      ? new Date(t.createdAt).toLocaleTimeString(\"en-US\")\r\n                      : new Date(t.createdAt).toLocaleDateString(\"en-GB\")}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/*<div className=\"w-3/12 sm:w-2/12 flex items-center justify-center\">\r\n                <button\r\n                  data-tid={t.id}\r\n                  className=\"w-full h-full outline-none\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    toggleTransactionStatus(e.currentTarget.dataset.tid);\r\n                  }}\r\n                >\r\n                  {t.isCompleted ? (\r\n                    <AiOutlineCheckSquare size=\"20px\" className=\"mx-auto\" />\r\n                  ) : (\r\n                    <AiOutlineBorder size=\"20px\" className=\"mx-auto\" />\r\n                  )}\r\n                </button>\r\n              </div>*/}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\capitalize.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\isToday.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Components\\PriceBar.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\helper\\favSort.js",[],"C:\\Users\\ahjen\\Desktop\\New folder\\shaklee-transfer-assist\\src\\Pages.js\\Records.js",["198","199"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useSuggestionInput } from \"react-hooks-web\";\r\nimport { AiOutlinePlus, AiOutlineFileUnknown } from \"react-icons/ai\";\r\nimport Loading from \"../Components/Loading\";\r\nimport TransactionTable from \"../Components/TransactionTable\";\r\nimport { userContext } from \"../Contexts/UserContext\";\r\nimport CreateTransaction from \"../Modal/CreateTransaction\";\r\n\r\nexport default function Records() {\r\n  const { setModal, transactions } = useContext(userContext);\r\n  const [filteredTransactions, setFilteredTransactions] = useState(() => []);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [transactionSearch, setTransactionSearch] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setFilteredTransactions(transactions);\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    if (transactionSearch.length > 0) {\r\n      setFilteredTransactions(\r\n        transactions.filter(\r\n          (t) =>\r\n            t.target.name\r\n              .toLowerCase()\r\n              .indexOf(transactionSearch.toLowerCase()) > -1 ||\r\n            t.target.sid.indexOf(transactionSearch.toLowerCase()) > -1 ||\r\n            t.type.toLowerCase().indexOf(transactionSearch.toLowerCase()) >\r\n              -1 ||\r\n            (t.isCompleted && transactionSearch.toLowerCase() === \"complete\") ||\r\n            (!t.isCompleted &&\r\n              transactionSearch.toLowerCase() === \"incomplete\") ||\r\n            t.items\r\n              .map((i) => i.name)\r\n              .join()\r\n              .toLowerCase()\r\n              .indexOf(transactionSearch.toLowerCase()) > -1\r\n        )\r\n      );\r\n    } else {\r\n      setFilteredTransactions(transactions);\r\n    }\r\n    setIsLoading(false);\r\n  }, [transactionSearch, transactions]);\r\n\r\n  return (\r\n    <div className=\"h-1/2\">\r\n      <div className=\"text-3xl my-6 text-gray-600\">Records</div>\r\n      {transactions && transactions.length > 0 ? (\r\n        <>\r\n          <div className=\"flex flex-row justify-between items-center my-6 space-x-6\">\r\n            <div className=\"flex-grow\">\r\n              <input\r\n                className=\"bg-gray-50 w-full border-b h-10 px-2 rounded-none\"\r\n                type=\"text\"\r\n                name=\"transaction\"\r\n                autoComplete=\"off\"\r\n                placeholder=\"Search E.g. Complete/Incomplete...\"\r\n                onChange={(e) => setTransactionSearch(e.target.value)}\r\n                value={transactionSearch}\r\n              />\r\n            </div>\r\n            <div>\r\n              <button\r\n                className=\"flex items-center rounded bg-green-500 text-white px-3 py-2\"\r\n                onClick={() => {\r\n                  setModal(<CreateTransaction />);\r\n                }}\r\n              >\r\n                <AiOutlinePlus className=\"mr-1.5 text-white text-lg\" />\r\n                <div>Record</div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {isLoading ? (\r\n            <Loading parentClassName=\"mt-24\" />\r\n          ) : (\r\n            <TransactionTable\r\n              filteredTransactions={filteredTransactions.sort((a, b) => {\r\n                return (\r\n                  new Date(b.createdAt).getTime() -\r\n                  new Date(a.createdAt).getTime()\r\n                );\r\n              })}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"flex flex-col h-full justify-center items-center my-8 \">\r\n          <div className=\"text-xl font-semibold\">No Record Found</div>\r\n          <AiOutlineFileUnknown className=\"text-4xl my-4\" />\r\n          <div>Start adding record now!</div>\r\n          <button\r\n            className=\"flex items-center rounded bg-green-500 text-white px-3 py-2 mt-4 shiny-button\"\r\n            onClick={() => {\r\n              setModal(<CreateTransaction />);\r\n            }}\r\n          >\r\n            <div>Add Record</div>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",{"ruleId":"200","replacedBy":"201"},{"ruleId":"202","replacedBy":"203"},{"ruleId":"204","severity":1,"message":"205","line":46,"column":9,"nodeType":"206","messageId":"207","endLine":46,"endColumn":21},{"ruleId":"204","severity":1,"message":"208","line":83,"column":11,"nodeType":"206","messageId":"207","endLine":83,"endColumn":12},{"ruleId":"209","severity":1,"message":"210","line":93,"column":6,"nodeType":"211","endLine":93,"endColumn":8,"suggestions":"212"},{"ruleId":"204","severity":1,"message":"213","line":1,"column":29,"nodeType":"206","messageId":"207","endLine":1,"endColumn":37},{"ruleId":"204","severity":1,"message":"214","line":10,"column":11,"nodeType":"206","messageId":"207","endLine":10,"endColumn":15},{"ruleId":"200","replacedBy":"215"},{"ruleId":"202","replacedBy":"216"},{"ruleId":"204","severity":1,"message":"217","line":5,"column":3,"nodeType":"206","messageId":"207","endLine":5,"endColumn":19},{"ruleId":"204","severity":1,"message":"218","line":10,"column":10,"nodeType":"206","messageId":"207","endLine":10,"endColumn":14},{"ruleId":"200","replacedBy":"219"},{"ruleId":"202","replacedBy":"220"},{"ruleId":"204","severity":1,"message":"221","line":20,"column":48,"nodeType":"206","messageId":"207","endLine":20,"endColumn":60},{"ruleId":"209","severity":1,"message":"222","line":56,"column":6,"nodeType":"211","endLine":56,"endColumn":8,"suggestions":"223"},{"ruleId":"209","severity":1,"message":"222","line":60,"column":6,"nodeType":"211","endLine":60,"endColumn":21,"suggestions":"224"},{"ruleId":"209","severity":1,"message":"225","line":90,"column":6,"nodeType":"211","endLine":90,"endColumn":12,"suggestions":"226"},{"ruleId":"209","severity":1,"message":"222","line":115,"column":6,"nodeType":"211","endLine":115,"endColumn":19,"suggestions":"227"},{"ruleId":"209","severity":1,"message":"228","line":38,"column":6,"nodeType":"211","endLine":38,"endColumn":8,"suggestions":"229"},{"ruleId":"209","severity":1,"message":"230","line":56,"column":6,"nodeType":"211","endLine":56,"endColumn":37,"suggestions":"231"},{"ruleId":"200","replacedBy":"232"},{"ruleId":"202","replacedBy":"233"},{"ruleId":"204","severity":1,"message":"221","line":9,"column":5,"nodeType":"206","messageId":"207","endLine":9,"endColumn":17},{"ruleId":"204","severity":1,"message":"234","line":10,"column":5,"nodeType":"206","messageId":"207","endLine":10,"endColumn":11},{"ruleId":"204","severity":1,"message":"235","line":11,"column":5,"nodeType":"206","messageId":"207","endLine":11,"endColumn":18},{"ruleId":"204","severity":1,"message":"236","line":12,"column":5,"nodeType":"206","messageId":"207","endLine":12,"endColumn":22},{"ruleId":"204","severity":1,"message":"237","line":14,"column":10,"nodeType":"206","messageId":"207","endLine":14,"endColumn":23},{"ruleId":"204","severity":1,"message":"238","line":16,"column":9,"nodeType":"206","messageId":"207","endLine":16,"endColumn":26},{"ruleId":"209","severity":1,"message":"239","line":16,"column":6,"nodeType":"211","endLine":16,"endColumn":8,"suggestions":"240"},{"ruleId":"204","severity":1,"message":"241","line":6,"column":3,"nodeType":"206","messageId":"207","endLine":6,"endColumn":17},{"ruleId":"209","severity":1,"message":"242","line":452,"column":6,"nodeType":"211","endLine":452,"endColumn":30,"suggestions":"243"},{"ruleId":"200","replacedBy":"244"},{"ruleId":"202","replacedBy":"245"},{"ruleId":"204","severity":1,"message":"246","line":12,"column":9,"nodeType":"206","messageId":"207","endLine":12,"endColumn":24},{"ruleId":"204","severity":1,"message":"247","line":13,"column":11,"nodeType":"206","messageId":"207","endLine":13,"endColumn":17},{"ruleId":"204","severity":1,"message":"218","line":3,"column":10,"nodeType":"206","messageId":"207","endLine":3,"endColumn":14},{"ruleId":"204","severity":1,"message":"248","line":5,"column":8,"nodeType":"206","messageId":"207","endLine":5,"endColumn":19},{"ruleId":"209","severity":1,"message":"249","line":24,"column":6,"nodeType":"211","endLine":24,"endColumn":8,"suggestions":"250"},{"ruleId":"251","severity":1,"message":"252","line":95,"column":15,"nodeType":"253","endLine":99,"endColumn":16},{"ruleId":"200","replacedBy":"254"},{"ruleId":"202","replacedBy":"255"},{"ruleId":"204","severity":1,"message":"234","line":12,"column":52,"nodeType":"206","messageId":"207","endLine":12,"endColumn":58},{"ruleId":"204","severity":1,"message":"256","line":16,"column":10,"nodeType":"206","messageId":"207","endLine":16,"endColumn":19},{"ruleId":"204","severity":1,"message":"257","line":16,"column":21,"nodeType":"206","messageId":"207","endLine":16,"endColumn":33},{"ruleId":"204","severity":1,"message":"258","line":17,"column":31,"nodeType":"206","messageId":"207","endLine":17,"endColumn":53},{"ruleId":"204","severity":1,"message":"259","line":49,"column":9,"nodeType":"206","messageId":"207","endLine":49,"endColumn":22},{"ruleId":"204","severity":1,"message":"260","line":50,"column":11,"nodeType":"206","messageId":"207","endLine":50,"endColumn":26},{"ruleId":"204","severity":1,"message":"261","line":3,"column":3,"nodeType":"206","messageId":"207","endLine":3,"endColumn":18},{"ruleId":"204","severity":1,"message":"262","line":4,"column":3,"nodeType":"206","messageId":"207","endLine":4,"endColumn":23},{"ruleId":"204","severity":1,"message":"263","line":5,"column":3,"nodeType":"206","messageId":"207","endLine":5,"endColumn":24},{"ruleId":"204","severity":1,"message":"264","line":9,"column":3,"nodeType":"206","messageId":"207","endLine":9,"endColumn":24},{"ruleId":"204","severity":1,"message":"265","line":12,"column":8,"nodeType":"206","messageId":"207","endLine":12,"endColumn":18},{"ruleId":"204","severity":1,"message":"266","line":17,"column":21,"nodeType":"206","messageId":"207","endLine":17,"endColumn":44},{"ruleId":"204","severity":1,"message":"267","line":2,"column":10,"nodeType":"206","messageId":"207","endLine":2,"endColumn":28},{"ruleId":"209","severity":1,"message":"268","line":19,"column":6,"nodeType":"211","endLine":19,"endColumn":8,"suggestions":"269"},"no-native-reassign",["270"],"no-negated-in-lhs",["271"],"no-unused-vars","'fetchProduct' is assigned a value but never used.","Identifier","unusedVar","'d' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkProduct'. Either include it or remove the dependency array.","ArrayExpression",["272"],"'useState' is defined but never used.","'data' is assigned a value but never used.",["270"],["271"],"'AiOutlineSetting' is defined but never used.","'Link' is defined but never used.",["270"],["271"],"'transactions' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'favouriteProducts' and 'stocks'. Either include them or remove the dependency array.",["273"],["274"],"React Hook useEffect has missing dependencies: 'favouriteProducts', 'stockSearch', and 'stocks'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setResult' needs the current value of 'stockSearch'.",["275"],["276"],"React Hook useEffect has missing dependencies: 'favouriteProducts' and 'storeProducts'. Either include them or remove the dependency array.",["277"],"React Hook useEffect has missing dependencies: 'favouriteProducts', 'storeProducts', and 'storeState.filteredSuggestions'. Either include them or remove the dependency array.",["278"],["270"],["271"],"'stocks' is assigned a value but never used.","'storeProducts' is assigned a value but never used.","'favouriteProducts' is assigned a value but never used.","'themeExpanded' is assigned a value but never used.","'handleChangeTheme' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'closeOnESC'. Either include it or remove the dependency array.",["279"],"'AiOutlineCheck' is defined but never used.","React Hook useEffect has a missing dependency: 'transactionProducts'. Either include it or remove the dependency array. If 'setStats' needs the current value of 'transactionProducts', you can also switch to useReducer instead of useState and read 'transactionProducts' in the reducer.",["280"],["270"],["271"],"'handleFavourite' is assigned a value but never used.","'prodno' is assigned a value but never used.","'ModalLayout' is defined but never used.","React Hook useEffect has missing dependencies: 'prod_no', 'stocks', and 'storeProducts'. Either include them or remove the dependency array. If 'setCurrentProduct' needs the current value of 'prod_no', you can also switch to useReducer instead of useState and read 'prod_no' in the reducer.",["281"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement",["270"],["271"],"'isChanged' is assigned a value but never used.","'setIsChanged' is assigned a value but never used.","'setEditableTransaction' is assigned a value but never used.","'handleEditing' is assigned a value but never used.","'newTransactions' is assigned a value but never used.","'AiOutlineBorder' is defined but never used.","'AiOutlineCheckSquare' is defined but never used.","'AiOutlineDollarCircle' is defined but never used.","'AiOutlineShoppingCart' is defined but never used.","'capitalize' is defined but never used.","'toggleTransactionStatus' is assigned a value but never used.","'useSuggestionInput' is defined but never used.","React Hook useEffect has a missing dependency: 'transactions'. Either include it or remove the dependency array.",["282"],"no-global-assign","no-unsafe-negation",{"desc":"283","fix":"284"},{"desc":"285","fix":"286"},{"desc":"287","fix":"288"},{"desc":"289","fix":"290"},{"desc":"291","fix":"292"},{"desc":"293","fix":"294"},{"desc":"295","fix":"296"},{"desc":"297","fix":"298"},{"desc":"299","fix":"300"},{"desc":"301","fix":"302"},{"desc":"303","fix":"304"},"Update the dependencies array to be: [checkProduct]",{"range":"305","text":"306"},"Update the dependencies array to be: [favouriteProducts, stocks]",{"range":"307","text":"308"},"Update the dependencies array to be: [favouriteProducts, stocks, stocks.length]",{"range":"309","text":"310"},"Update the dependencies array to be: [favouriteProducts, stockSearch, stocks, view]",{"range":"311","text":"312"},"Update the dependencies array to be: [favouriteProducts, stockSearch, stocks]",{"range":"313","text":"314"},"Update the dependencies array to be: [favouriteProducts, storeProducts]",{"range":"315","text":"316"},"Update the dependencies array to be: [storeState.userInput, loading, storeState.filteredSuggestions, favouriteProducts, storeProducts]",{"range":"317","text":"318"},"Update the dependencies array to be: [closeOnESC]",{"range":"319","text":"320"},"Update the dependencies array to be: [transactionProducts, transactionStatus.isDn]",{"range":"321","text":"322"},"Update the dependencies array to be: [prod_no, stocks, storeProducts]",{"range":"323","text":"324"},"Update the dependencies array to be: [transactions]",{"range":"325","text":"326"},[2674,2676],"[checkProduct]",[1623,1625],"[favouriteProducts, stocks]",[1709,1724],"[favouriteProducts, stocks, stocks.length]",[2617,2623],"[favouriteProducts, stockSearch, stocks, view]",[3403,3416],"[favouriteProducts, stockSearch, stocks]",[1239,1241],"[favouriteProducts, storeProducts]",[1734,1765],"[storeState.userInput, loading, storeState.filteredSuggestions, favouriteProducts, storeProducts]",[449,451],"[closeOnESC]",[14428,14452],"[transactionProducts, transactionStatus.isDn]",[1072,1074],"[prod_no, stocks, storeProducts]",[842,844],"[transactions]"]